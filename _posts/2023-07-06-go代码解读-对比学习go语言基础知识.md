## 初始化树状数组
```go
// BinaryIndexedTree define
type BinaryIndexedTree struct {
	tree     []int
	capacity int
}

// Init define
func (bit *BinaryIndexedTree) Init(nums []int) {
	bit.tree, bit.capacity = make([]int, len(nums)+1), len(nums)+1
	for i := 1; i <= len(nums); i++ {
		bit.tree[i] += nums[i-1]
		for j := i - 2; j >= i-lowbit(i); j-- {
			bit.tree[i] += nums[j]
		}
	}
}
```

（一）结构体的定义

首先，在 Go 语言中，结构体是一种聚合复合数据类型，它允许你将不同类型的数据组织在一起，go中的结构体可类比python里的类。结构体的定义通常包括多个字段，每个字段都有一个名称和类型。下面的例子将向您展示如何定义一个结构体，以及如何在程序中使用它。
```go
package main
import "fmt"
// 我们定义一个名为 Person 的结构体，它有三个字段：Name（字符串类型），Age（整型），和 Height（浮点型）。
type Person struct {
    Name   string
    Age    int
    Height float64
}

func main() {
// 创建一个 Person 类型的变量并初始化字段
    person1 := Person{
        Name:   "Alice",
        Age:    30,
        Height: 170.0,
    }

//我们还可以访问和修改结构体的字段：
    person1.Name = "Alicia"
    fmt.Println("Person 1 new name:", person1.Name)
}

//我们有时候可能需要创建一些带复杂初始化逻辑的结构体，go中的具体实现看下面
```

（二）方法的定义与使用

`func (bit *BinaryIndexedTree) Init(nums []int)` 是一个 Golang 方法的定义，它属于 `BinaryIndexedTree` 结构体。让我们逐步解释这个方法声明：
1. func: 表示这是一个函数定义。
2. `(bit *BinaryIndexedTree)`: 这部分定义了方法的接收者。在这里，接收者是一个名为 bit 的 *BinaryIndexedTree 类型的指针。这意味着，当调用此方法时，将使用指向 BinaryIndexedTree 结构体实例的指针。(这里的指针等同于python里的引用，变量)
3. Init是方法的名称；`(nums []int)`是方法的参数列表

go里面，对于方法，还有一种定义方式：`func (bit BinaryIndexedTree) Init(nums []int)`。这里，唯一的区别是 `(bit *BinaryIndexedTree)`是引用传递，`(bit BinaryIndexedTree)`是值传递，传递对象的拷贝。（应该是浅拷贝，可以验证一下）。

为了与python使用体验一致，建议用`(bit *BinaryIndexedTree)`方式定义。并且方法的使用与python的一致。
```go
//假设前面已经定义了Rectangle结构体和scale方法
func main() {
    r := Rectangle{width: 3, height: 4}
    r.scale(2)
    fmt.Println("Width:", r.width, "Height:", r.height)
}
```

（三）零值语法与结构体的Init函数

根据上面定义树状数组的代码，我们在go里面会这么初始化一个树状数组
```go
//回答了这个问题：在go里面我怎么初始化一个有比较复杂的初始化逻辑的结构体
func main() {
    var tree_arr BinaryIndexedTree
    tree_arr.Init([3,4,2,7,8,1])
}
```
go语言没有像类似java或python的构造函数或初始化函数。**当我们需要用比较复杂的初始化逻辑来初始化一个对象的时候，python有构造函数，go则是用零值语法+自定义构造函数来间接实现**

首先是零值语法，在 Go 语言中，当变量被声明但未被显式赋值时，它们会被赋予默认的零值。这种语法被称为零值语法。结构体类型的零值是其所有字段的零值。

个人理解这个概念，则是，只声明变量并让编译器给变量赋予默认的零值，这种语法被称为零值语法，形式是 `var 变量名 变量类型`

在 Go 中，没有名为 init 的特殊方法（构造方法），但你可以为结构体类型定义任何名为 Init 的方法（或其他自定义名称），来实现诸如初始化前的注册等复杂的初始化逻辑。这个方法可以接收参数并在结构体被创建时执行初始化操作。最开始的代码就是一个例子，这里不再重复举例。
